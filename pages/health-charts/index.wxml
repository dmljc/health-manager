<view class="health-charts-page">
  <!-- 页面标题 -->
  <view class="page-header">
    <text class="page-title">健康指标趋势</text>
    <view class="header-actions">
      <button class="action-btn" bindtap="addNewData">
        <text class="action-icon">➕</text>
        <text class="action-text">录入</text>
      </button>
      <button class="action-btn" bindtap="exportReport">
        <text class="action-icon">📊</text>
        <text class="action-text">导出</text>
      </button>
    </view>
  </view>

  <!-- 标签页切换 -->
  <view class="tabs-container">
    <scroll-view class="tabs-scroll" scroll-x="true">
      <view class="tabs">
        <view 
          wx:for="{{tabs}}" 
          wx:key="id"
          class="tab-item {{currentTab === index ? 'active' : ''}}"
          data-index="{{index}}"
          bindtap="switchTab"
        >
          <text class="tab-icon">{{item.icon}}</text>
          <text class="tab-name">{{item.name}}</text>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- 时间范围选择 -->
  <view class="time-range-container">
    <text class="range-label">时间范围:</text>
    <view class="range-options">
      <view 
        wx:for="{{timeRanges}}" 
        wx:key="value"
        class="range-option {{currentTimeRange === item.value ? 'active' : ''}}"
        data-range="{{item.value}}"
        bindtap="switchTimeRange"
      >
        {{item.label}}
      </view>
    </view>
  </view>

  <!-- 图表区域 -->
  <view class="chart-section">
    <view class="chart-header">
      <text class="chart-title">{{tabs[currentTab].name}}指标走势</text>
    </view>
    <view class="chart-container">
      <line-chart 
        categories="{{chartCategories}}" 
        series="{{chartSeries}}" 
        minimal="{{true}}"
        y-axis-ticks="{{yAxisTicks}}"
         y-axis-max="{{yAxisMax}}"
        show-background="{{false}}"
        safe-region="{{safeRegion}}"
        guide-lines="{{guideLines}}"
        background-regions="{{backgroundRegions}}"
      />
    </view>
  </view>

  <!-- 指标卡片 -->
  <view class="indicators-section">
    <view class="section-title">当前指标值</view>
    <view class="indicators-grid">
      <view 
        wx:for="{{currentIndicators}}" 
        wx:key="name"
        class="indicator-card"
        data-indicator="{{item}}"
        bindtap="viewIndicatorDetail"
      >
        <view class="indicator-header">
          <text class="indicator-name">{{item.name}}</text>
          <view class="indicator-trend trend-{{item.trend}}">
            <text class="trend-icon">
              {{item.trend === 'up' ? '↗️' : item.trend === 'down' ? '↘️' : '➡️'}}
            </text>
          </view>
        </view>
        <view class="indicator-value">{{item.value}}</view>
        <view class="indicator-status status-{{item.status}}">
          {{item.status === 'normal' ? '正常' : item.status === 'high' ? '偏高' : '偏低'}}
        </view>
      </view>
    </view>
  </view>

  <!-- 健康建议 -->
  <view class="suggestions-section">
    <view class="section-title">健康建议</view>
    <view class="suggestion-card">
      <view class="suggestion-item">
        <text class="suggestion-icon">💡</text>
        <text class="suggestion-text">定期监测指标变化，建议每月检查一次</text>
      </view>
      <view class="suggestion-item">
        <text class="suggestion-icon">🥗</text>
        <text class="suggestion-text">保持均衡饮食，避免高脂高糖食物</text>
      </view>
      <view class="suggestion-item">
        <text class="suggestion-icon">🏃</text>
        <text class="suggestion-text">适量运动，每周至少150分钟中等强度运动</text>
      </view>
    </view>
  </view>
</view>